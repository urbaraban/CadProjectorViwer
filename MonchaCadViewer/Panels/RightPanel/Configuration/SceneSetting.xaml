<UserControl
    x:Class="CadProjectorViewer.Panels.RightPanel.Configuration.SceneSetting"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:converters="clr-namespace:CadProjectorViewer.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:CadProjectorViewer.Panels.RightPanel.Configuration"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:scene="clr-namespace:CadProjectorSDK.Scenes;assembly=CadProjectorSDK"
    d:DataContext="{d:DesignInstance Type=scene:ProjectionScene}"
    mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml" />
                <!--  Theme setting  -->
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Themes/Light.Blue.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <Style TargetType="{x:Type DockPanel}">
                <Setter Property="Margin" Value="0,3" />
                <Setter Property="LastChildFill" Value="True" />
            </Style>
            <Style TargetType="{x:Type Label}">
                <Setter Property="Width" Value="70" />
            </Style>
            <Style TargetType="{x:Type Separator}">
                <Setter Property="Background" Value="LightGray" />
                <Setter Property="Margin" Value="5" />
            </Style>
            <Style TargetType="Controls:NumericUpDown">
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="NumericInputMode" Value="All" />
                <Setter Property="Culture" Value="ru-RU" />
                <EventSetter Event="PreviewTextInput" Handler="NumericUpDown_PreviewTextInput" />
            </Style>
            <local:Splitter x:Key="Splitter" />
            <converters:RoundDoubleConverter x:Key="RoundDouble" />
            <local:AttachConverter x:Key="AttachConverter" />
        </ResourceDictionary>
    </UserControl.Resources>
    <ScrollViewer>
        <Grid>
            <StackPanel Margin="5">
                <DockPanel>
                    <Label Content="{DynamicResource obj_Width}" />
                    <Controls:NumericUpDown Background="White" Value="{Binding Size.Width, Converter={StaticResource RoundDouble}}" />
                </DockPanel>
                <DockPanel>
                    <Label Content="{DynamicResource obj_Height}" />
                    <Controls:NumericUpDown Background="White" Value="{Binding Size.Height, Converter={StaticResource RoundDouble}}" />
                </DockPanel>
                <Separator />
                <DockPanel Visibility="Collapsed">
                    <Label Content="{DynamicResource clb_Multiplier}" />
                    <Controls:NumericUpDown
                        x:Name="MashMultiplierUpDn"
                        Background="White"
                        Maximum="1"
                        Minimum="0.001"
                        Speedup="False"
                        ValueDecremented="MashMultiplierUpDn_ValueDecremented"
                        ValueIncremented="MashMultiplierUpDn_ValueIncremented">
                        <Controls:NumericUpDown.Value>
                            <MultiBinding Converter="{StaticResource Splitter}">
                                <Binding Path="Size.M.Width" />
                                <Binding Path="Size.M.Height" />
                                <Binding Path="Size.M.Depth" />
                            </MultiBinding>
                        </Controls:NumericUpDown.Value>
                    </Controls:NumericUpDown>
                </DockPanel>
                <DockPanel>
                    <Label Content="{DynamicResource obj_Step}" />
                    <Controls:NumericUpDown
                        Name="PointStepUpDn"
                        Interval="0.01"
                        IsTabStop="False"
                        Maximum="10"
                        Minimum="0"
                        Value="{Binding Movespeed}" />
                </DockPanel>
                <DockPanel>
                    <Label x:Name="CalibrationFormLabel" Content="{DynamicResource obj_Type}" />
                    <ComboBox
                        x:Name="CalibrationFormCombo"
                        Focusable="True"
                        SelectionChanged="CalibrationFormCombo_SelectionChanged">
                        <ComboBox.Resources>
                            <ResourceDictionary />
                        </ComboBox.Resources>
                        <ComboBoxItem Content="{DynamicResource clb_Dot}" />
                        <ComboBoxItem Content="{DynamicResource clb_Rect}" />
                        <ComboBoxItem Content="{DynamicResource clb_Cross}" />
                        <ComboBoxItem Content="{DynamicResource clb_HLine}" />
                        <ComboBoxItem Content="{DynamicResource clb_WLine}" />
                        <ComboBoxItem Content="{DynamicResource clb_Mesh}" />
                    </ComboBox>
                </DockPanel>
                <Separator />
                <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                    <Label VerticalAlignment="Center" Content="{DynamicResource setting_attach}" />
                    <Grid
                        Width="75"
                        Height="75"
                        Margin="10"
                        HorizontalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <RadioButton
                            Grid.Row="0"
                            Grid.Column="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Top%Left}" />
                        <RadioButton
                            Grid.Row="0"
                            Grid.Column="1"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Top%Middle}" />
                        <RadioButton
                            Grid.Row="0"
                            Grid.Column="2"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Top%Right}" />
                        <RadioButton
                            Grid.Row="1"
                            Grid.Column="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Middle%Left}" />
                        <RadioButton
                            Grid.Row="1"
                            Grid.Column="1"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Middle%Middle}" />
                        <RadioButton
                            Grid.Row="1"
                            Grid.Column="2"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Middle%Right}" />
                        <RadioButton
                            Grid.Row="2"
                            Grid.Column="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Down%Left}" />
                        <RadioButton
                            Grid.Row="2"
                            Grid.Column="1"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Down%Middle}" />
                        <RadioButton
                            Grid.Row="2"
                            Grid.Column="2"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{Binding DefAttach, Converter={StaticResource AttachConverter}, ConverterParameter=Down%Right}" />
                    </Grid>
                </StackPanel>
                <DockPanel>
                    <Label Content="{DynamicResource setting_xpadding}" />
                    <Controls:NumericUpDown
                        Background="White"
                        Maximum="9999"
                        Minimum="-9999"
                        Value="{Binding AttachDistanceX}" />
                </DockPanel>
                <DockPanel>
                    <Label Content="{DynamicResource setting_ypadding}" />
                    <Controls:NumericUpDown
                        Background="White"
                        Maximum="9999"
                        Minimum="-9999"
                        Value="{Binding AttachDistanceY}" />
                </DockPanel>

                <Separator />
                <Label
                    Width="auto"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    Content="{DynamicResource setting_mainlabel}" />
                <CheckBox Content="{DynamicResource obj_Mirror}" IsChecked="{Binding DefaultMirror, Mode=TwoWay}" />
                <DockPanel>
                    <Label Content="{DynamicResource setting_xscale}" />
                    <Controls:NumericUpDown
                        x:Name="SizeXUpDn"
                        Background="White"
                        Maximum="999"
                        Minimum="0"
                        Value="{Binding DefaultScaleX}" />
                </DockPanel>

                <DockPanel>
                    <Label Content="{DynamicResource setting_yscale}" />
                    <Controls:NumericUpDown
                        Background="White"
                        Maximum="999"
                        Minimum="0"
                        Value="{Binding DefaultScaleY, Mode=TwoWay}" />
                </DockPanel>

                <DockPanel>
                    <Label Content="{DynamicResource obj_Angle}" />
                    <Controls:NumericUpDown
                        Background="White"
                        Maximum="360"
                        Minimum="0"
                        Value="{Binding DefaultAngle, Mode=TwoWay}" />
                </DockPanel>
                <Separator />
                <DockPanel>
                    <CheckBox Content="Step By Step Add" IsChecked="{Binding StepByStep}" />
                </DockPanel>
                <DockPanel>
                    <CheckBox Content="Cursor Mask Activated" IsChecked="{Binding CursorMaskActivated}" />
                </DockPanel>
                <Separator />
                <CheckBox Content="Подменять флаги" IsChecked="{Binding ChangeFlags}" />
                <TextBox Margin="3" Text="{Binding Flags}" />
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>
